<!doctype html>
<html lang="pt">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Jogo da EN2 â€” Demo</title>

<style>
:root{
  --bg:#111;
  --accent:#f5c400;
  --text:#fff;
}
html,body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:Arial, sans-serif;
}
.wrap{
  max-width:1200px;
  margin:20px auto;
  text-align:center;
}
.board-frame{
  max-width:1000px;
  aspect-ratio:4/3;
  margin:auto;
  position:relative;
  overflow:hidden;
}
.board-img{
  position:absolute;
  inset:0;
  background:url("https://i.imgur.com/SgYhoY8.png") center/cover no-repeat;
}
.zoom{
  position:absolute;
  inset:0;
  transition:transform .3s ease;
}
.pawn{
  position:absolute;
  width:20px;
  height:20px;
  border-radius:50%;
  transform:translate(-50%,-50%);
  cursor:pointer;
}
.car{background:#f5c400}
.bike{background:#4bb39a}
.motor{background:#ef4a8a}
.person{background:#4267ff}
.selected{outline:2px solid #fff}

.controls{
  margin-top:15px;
}
button{
  padding:10px 20px;
  font-weight:bold;
  background:#f5c400;
  border:none;
  cursor:pointer;
}
</style>
</head>

<body>
<div class="wrap">
  <h1>JOGO DA EN2</h1>

  <div class="board-frame" id="board">
    <div class="zoom" id="zoom">
      <div class="board-img"></div>
      <div class="pawn car" id="pawn0"></div>
      <div class="pawn bike" id="pawn1"></div>
      <div class="pawn motor" id="pawn2"></div>
      <div class="pawn person" id="pawn3"></div>
    </div>
  </div>

  <div class="controls">
    <select id="selectPawn">
      <option value="0">Carro</option>
      <option value="1">Bicicleta</option>
      <option value="2">Mota</option>
      <option value="3">Pessoa</option>
    </select>
    <button id="roll">JOGAR</button>
    ðŸŽ² <span id="dice">â€”</span>
  </div>
</div>

<script>
// ===============================
// CASAS (EXEMPLO â€“ AS TUAS FUNCIONAM IGUAL)
// ===============================
const SPACES = [
  {x:0.09,y:0.11},
  {x:0.12,y:0.18},
  {x:0.16,y:0.24},
  {x:0.20,y:0.30},
  {x:0.26,y:0.36},
  {x:0.32,y:0.42},
  {x:0.38,y:0.48},
  {x:0.44,y:0.54},
  {x:0.50,y:0.60}
];

// ===============================
// ELEMENTOS
// ===============================
const board = document.getElementById("board");
const zoom  = document.getElementById("zoom");
const pawns = [
  document.getElementById("pawn0"),
  document.getElementById("pawn1"),
  document.getElementById("pawn2"),
  document.getElementById("pawn3")
];
const rollBtn = document.getElementById("roll");
const diceEl  = document.getElementById("dice");
const select  = document.getElementById("selectPawn");

// ===============================
// ESTADO
// ===============================
let pos = [0,0,0,0];
let selected = 0;

// ===============================
// FUNÃ‡Ã•ES
// ===============================
function placePawn(i){
  const s = SPACES[pos[i]];
  pawns[i].style.left = s.x * board.clientWidth + "px";
  pawns[i].style.top  = s.y * board.clientHeight + "px";
}

function zoomTo(i){
  const s = SPACES[pos[i]];
  const cx = board.clientWidth/2;
  const cy = board.clientHeight/2;
  zoom.style.transform =
    `translate(${(cx-s.x*board.clientWidth)*0.4}px, ${(cy-s.y*board.clientHeight)*0.4}px) scale(1.4)`;
}

async function movePawn(i,steps){
  for(let n=0;n<steps;n++){
    pos[i]=Math.min(SPACES.length-1,pos[i]+1);
    placePawn(i);
    zoomTo(i);
    await new Promise(r=>setTimeout(r,400));
  }
  zoom.style.transform="scale(1)";
}

function setSelected(i){
  selected=i;
  pawns.forEach((p,idx)=>p.classList.toggle("selected",idx===i));
  select.value=i;
}

// ===============================
// EVENTOS
// ===============================
rollBtn.onclick=async()=>{
  const r=Math.floor(Math.random()*6)+1;
  diceEl.textContent=r;
  await movePawn(selected,r);
};
select.onchange=e=>setSelected(+e.target.value);
pawns.forEach((p,i)=>p.onclick=()=>setSelected(i));

// ===============================
// INIT
// ===============================
pawns.forEach((_,i)=>placePawn(i));
setSelected(0);
</script>
</body>
</html>
